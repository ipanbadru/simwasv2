"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9698],{69291:function(e,a,t){t.r(a),t.d(a,{CardAccumulate:function(){return l},CardComponents:function(){return n},CardHeaderContent:function(){return s}});var r=t(57437);t(2265);let n=e=>{let{children:a}=e;return(0,r.jsx)("div",{className:"w-full rounded-md shadow-md p-6 bg-white space-y-2 overflow-hidden",children:a})},s=e=>{let{Header:a,children:t}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"w-full rounded-md shadow-md p-6 bg-white space-y-2",children:[(0,r.jsx)("p",{children:a}),(0,r.jsx)("hr",{}),t]})})},l=e=>{let{Header:a,Count:t,imgurl:n}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"w-full rounded-md shadow-md p-6 bg-white space-y-2",children:(0,r.jsxs)("div",{className:"flex",children:[n&&(0,r.jsx)("img",{src:n,className:"w-8 md:w-10"}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsx)("h2",{className:"text-left md:text-4xl text-2xl font-black text-teal-500",children:t}),(0,r.jsx)("h3",{className:"text-neutral-500 text-sm md:text-base",children:a})]})]})})})}},55745:function(e,a,t){var r=t(57437),n=t(2265),s=t(91105),l=t(49089),c=t(12),o=t(27648),i=t(29889);a.default=()=>{let{data:e,isLoading:a,error:t}=(0,i.i)("pkpt"),[u,d]=(0,n.useState)(""),[m,p]=(0,n.useState)([]),g=[{name:"Actions",cell:e=>(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(o.default,{href:"/dashboard/perencanaan/pkpt/".concat(e.id),className:"p-2 text-blue-500 hover:text-blue-700",children:(0,r.jsx)(l.dSq,{})}),(0,r.jsx)(o.default,{href:"/dashboard/perencanaan/pkpt/actions/".concat(e.id),className:"p-2 bg-primary hover:bg-lightprimary hover:shadow-md rounded-md text-white hover:text-black",children:"Act"})]})},{name:"Status",selector:e=>e.status,sortable:!0},{name:"Jenis Pengawasan",selector:e=>e.jenis_pengawasan,sortable:!0},{name:"Area Pengawasan",selector:e=>e.area_pengawasan,sortable:!0},{name:"Ruang Lingkup",selector:e=>e.ruang_lingkup,sortable:!0},{name:"Tujuan / Sasaran",selector:e=>e.tujuan_sasaran,sortable:!0},{name:"Rencana Penugasan",selector:e=>e.rencana_penugasan,sortable:!0},{name:"Rencana Penerbitan",selector:e=>e.rencana_penerbitan,sortable:!0},{name:"Penanggung Jawab",selector:e=>e.penanggung_jawab,sortable:!0},{name:"Wakil Penanggung Jawab",selector:e=>e.wakil_penanggung_jawab,sortable:!0},{name:"Pengendali Teknis / Supervisor",selector:e=>e.pengendali_teknis,sortable:!0},{name:"Ketua TIM",selector:e=>e.ketua_tim,sortable:!0},{name:"TIM",selector:e=>e.tim&&Array.isArray(e.tim)?e.tim.map(e=>e.name).join(", "):"",sortable:!0},{name:"Jumlah",selector:e=>e.jumlah,sortable:!0},{name:"Jumlah Laporan",selector:e=>e.jumlah_laporan,sortable:!0},{name:"Anggaran",selector:e=>e.anggaran,sortable:!0},{name:"Sarana dan Prasarana",selector:e=>e.sarana_prasarana,sortable:!0},{name:"Keterangan",selector:e=>e.keterangan,sortable:!0}];return a?(0,r.jsx)("div",{children:"Loading..."}):t?(0,r.jsxs)("div",{children:["Error: ",t.message]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"mb-4 space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h3",{children:"Data PKPT"}),(0,r.jsxs)("div",{className:"space-x-2",children:[(0,r.jsx)("button",{onClick:()=>{if(!e)return;let a=g.filter(e=>"Actions"!==e.name).map(e=>e.name).join(","),t=e.map(e=>g.filter(e=>"Actions"!==e.name).map(a=>{let t=a.selector;return'"'.concat(t(e),'"')}).join(",")),r=new Blob(["".concat(a,"\n").concat(t.join("\n"))],{type:"text/csv;charset=utf-8"});(0,c.saveAs)(r,"pkpt_data.csv")},className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",children:"Export CSV"}),(0,r.jsx)("button",{onClick:()=>{if(!e)return;let a=g.filter(e=>"Actions"!==e.name).map(e=>e.name).join("	"),t=e.map(e=>g.filter(e=>"Actions"!==e.name).map(a=>(0,a.selector)(e)).join("	")),r=new Blob(["".concat(a,"\n").concat(t.join("\n"))],{type:"application/vnd.ms-excel;charset=utf-8"});(0,c.saveAs)(r,"pkpt_data.xls")},className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Export Excel"})]})]}),(0,r.jsx)("input",{id:"search",type:"text",placeholder:"Cari Status / Jenis / Area Pengawasan ...",value:u,onChange:a=>{let t=a.target.value;d(t),e&&p(e.filter(e=>e.jenis_pengawasan.toLowerCase().includes(t.toLowerCase())||e.area_pengawasan.toLowerCase().includes(t.toLowerCase())||e.status.toLowerCase().includes(t.toLowerCase())))},className:"border border-b-2 border-t-0 border-l-0 border-r-0 rounded-md shadow-md border-slate-600 text-black bg-slate-200/25 w-full"})]}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsx)(s.ZP,{columns:g,data:u?m:e,pagination:!0,fixedHeader:!0,fixedHeaderScrollHeight:"300px",responsive:!0})})]})}},29889:function(e,a,t){t.d(a,{i:function(){return s}});var r=t(2265);let n=new(t(16929)).g,s=e=>{let[a,t]=(0,r.useState)([]),[s,l]=(0,r.useState)(!0),[c,o]=(0,r.useState)(null),i=(0,r.useCallback)(async()=>{try{l(!0);let a=await n.getAllData(e);a.success&&Array.isArray(a.data)?(t(a.data),o(null)):o(Error(a.message))}catch(e){o(e)}finally{l(!1)}},[e]);return(0,r.useEffect)(()=>{i()},[i]),{data:a,isLoading:s,error:c,refetch:i}}},16929:function(e,a,t){t.d(a,{g:function(){return c}});var r=t(83464),n=t(40257);let s="http://simwas.tasikmalayakota.go.id:8080";if(!s)throw Error("NEXT_PUBLIC_API_ENDPOINT is not defined in environment variables.");let l=r.Z.create({baseURL:s,timeout:1e4,headers:{"Content-Type":"application/json"}});l.interceptors.request.use(e=>{let a=n.env.NEXT_SECRET_API_TOKEN;return a&&(e.headers.Authorization="Bearer ".concat(a)),e},e=>Promise.reject(e)),l.interceptors.response.use(e=>e.data,e=>{var a;return Promise.reject((null===(a=e.response)||void 0===a?void 0:a.data)||e.message||"An unknown error occurred")});class c{async getAllData(e){try{let a=await l.get(e);return{success:!0,data:a,message:"Data berhasil diambil"}}catch(e){return{success:!1,error:e,message:"Gagal mengambil data"}}}async addData(e,a){try{let t=await l.post(e,a);return{success:!0,data:t,message:"Data berhasil ditambahkan"}}catch(e){return{success:!1,error:e,message:"Gagal menambahkan data"}}}async updateData(e,a){try{let t=await l.put(e,a);return{success:!0,data:t,message:"Data berhasil diupdate"}}catch(e){return{success:!1,error:e,message:"Gagal mengupdate data"}}}async deleteData(e){try{let a=await l.delete(e);return{success:!0,data:a,message:"Data berhasil dihapus"}}catch(e){return{success:!1,error:e,message:"Gagal menghapus data"}}}async getDataById(e){try{let a=await l.get(e);return{success:!0,data:a.data,message:"Data berhasil diambil"}}catch(e){return{success:!1,error:e,message:"Gagal mengambil data"}}}}},46231:function(e,a,t){t.d(a,{w_:function(){return u}});var r=t(2265),n={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},s=r.createContext&&r.createContext(n),l=["attr","size","title"];function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function o(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,r)}return t}function i(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?o(Object(t),!0).forEach(function(a){var r,n;r=a,n=t[a],(r=function(e){var a=function(e,a){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,a||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(e,"string");return"symbol"==typeof a?a:a+""}(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function u(e){return a=>r.createElement(d,c({attr:i({},e.attr)},a),function e(a){return a&&a.map((a,t)=>r.createElement(a.tag,i({key:t},a.attr),e(a.child)))}(e.child))}function d(e){var a=a=>{var t,{attr:n,size:s,title:o}=e,u=function(e,a){if(null==e)return{};var t,r,n=function(e,a){if(null==e)return{};var t={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(a.indexOf(r)>=0)continue;t[r]=e[r]}return t}(e,a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)t=s[r],!(a.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}(e,l),d=s||a.size||"1em";return a.className&&(t=a.className),e.className&&(t=(t?t+" ":"")+e.className),r.createElement("svg",c({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,n,u,{className:t,style:i(i({color:e.color||a.color},a.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),o&&r.createElement("title",null,o),e.children)};return void 0!==s?r.createElement(s.Consumer,null,e=>a(e)):a(n)}}}]);